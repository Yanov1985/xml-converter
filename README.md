# XML Конвертер - Веб-интерфейс

Веб-приложение для конвертации XML файлов в CSV, Excel и HTML форматы.

## Возможности

- Загрузка XML файлов через веб-интерфейс
- Автоматическая конвертация в CSV, Excel и HTML
- Просмотр списка конвертированных файлов
- Скачивание результатов конвертации
- Поддержка drag-and-drop для загрузки файлов

## Требования

- Node.js 18.x или выше
- NPM или Yarn

## Установка

1. Клонируйте репозиторий:

   ```bash
   git clone <репозиторий>
   cd xml-converter-web
   ```

2. Установите зависимости:

   ```bash
   npm install
   # или с помощью Yarn
   yarn install
   ```

3. Запустите приложение в режиме разработки:

   ```bash
   npm run dev
   # или с помощью Yarn
   yarn dev
   ```

4. Откройте [http://localhost:3000](http://localhost:3000) в вашем браузере.

### Установка в Windows PowerShell

Если вы используете Windows PowerShell, выполните следующие команды:

```powershell
# Переход в директорию проекта
cd xml-converter-web

# Установка зависимостей
npm install

# Запуск приложения
npm run dev
```

## Сборка для продакшена

```bash
# Сборка для продакшена
npm run build

# Запуск в продакшен-режиме
npm run preview
```

## Структура проекта

- `components/` - Vue компоненты
  - `XmlConverter.vue` - Компонент для загрузки XML файлов
  - `FileList.vue` - Компонент для отображения списка файлов
- `server/api/` - Серверные API-эндпоинты
  - `upload.ts` - API для загрузки файлов
  - `download.ts` - API для скачивания файлов
  - `files.ts` - API для получения списка файлов
- `assets/css/` - CSS стили
- `public/` - Статические файлы

## Как это работает

1. Веб-приложение предоставляет интерфейс для загрузки XML файлов
2. Загруженные файлы сохраняются в директории `xml`
3. Серверная часть использует существующий скрипт `xml-to-csv.js` для конвертации
4. Результаты конвертации сохраняются в директории `converted`
5. Пользователь может скачать результаты в форматах CSV, Excel или просмотреть HTML-версию

## Конфигурация

Конфигурация приложения осуществляется через `nuxt.config.ts`:

- Максимальный размер загружаемого файла: `runtimeConfig.public.maxUploadSize`
- Директория для загруженных XML файлов: `runtimeConfig.uploadDir`
- Директория для результатов конвертации: `runtimeConfig.outputDir`

## Особенности работы

1. Загруженные XML файлы сохраняются в директории `../xml` относительно приложения
2. Сконвертированные файлы сохраняются в директории `../converted`
3. Приложение использует существующий скрипт `xml-to-csv.js` для конвертации

## Устранение проблем

### Ошибка "Nuxt не является внутренней или внешней командой"

Если при запуске `npm run dev` вы получаете ошибку о том, что Nuxt не является командой:

1. Убедитесь, что вы правильно установили зависимости: `npm install`
2. Проверьте, что в папке `node_modules/.bin` есть файл `nuxt`
3. Попробуйте выполнить команду `npx nuxt dev`

### Ошибки при установке зависимостей

Если у вас возникают проблемы при установке зависимостей:

1. Очистите кэш npm: `npm cache clean --force`
2. Удалите папку node_modules: `rm -rf node_modules`
3. Удалите файл package-lock.json: `rm package-lock.json`
4. Установите зависимости снова: `npm install`

## Лицензия

MIT
